---
title: "[IBM 클라우드] Speech-to-Text 사용해 보기, 그리고 HAL"
comments: true
author-profile: true
categories: [CLOUDERs]
---
'2001 스페이스 오딧세이' SF 소설 시리즈를 아는가?<BR/>
데이비드 보먼과 프랭크 풀, 그리고 HAL 덕분에 이 장대한 우주 서사는 '3001 스페이스 오딧세이'까지 그 명성을 이어간다. 여기서 나는 다른 등장인물보다 HAL에 눈길이 갔다. 인간에게 반기를 든 최초의 컴퓨터, 컴퓨터 또한 의도에 부합하면 거짓말을 할 수 있음을 증명한 녀석. HAL을 개발한 찬드라 박사는 그 가능성을 짐작했을지 궁금하다. 하지만 소설 속 인물과 대화할 수는 없기에 아쉽지만 HAL의 능력을 되살려 보며 HAL 본인('사람 인' 말고 다른 단어를 써야 하나)의 심리를 파악하기로 했다.<BR/>
__IBM C:LOUDERs(클라우더스)__ 에 합격한 그날부터 나는 심심할 때마다 Watson을 다룬 홈페이지에 들어가 보았다. 'HAL'이라는 이름에 숨겨진 뒷이야기 때문이었다. 당시 아서 C 클라크는 다소 공격적인 질문을 많이 받았다. IBM 회사명을 따 HAL을 만든 것이 아닌가 하는 질문이었다. 이 둘 사이에 어떤 연결고리가 있는지 곰곰이 생각하면 절로 미소가 지어질 것이다.<BR/><BR/>
 __H__ || __I__ <BR/>
 __A__ || __B__ <BR/>
 __L__ || __M__ <BR/><BR/>
우연하게도 IBM의 각 글자에서 하나씩 앞으로 끌어당기면 HAL이 된다. 물론 작가는 이와 같은 가십지 기자다운 질문에 반박하며 HAL은 '__H__ euristically programmed __AL__ gorithmic computer(발견적 방법으로 프로그램된 연산 컴퓨터)'의 약자라고 밝혔다(책 본문에도 나와 있다). 항상 우연은 짓궂은 법이다.<BR/>
이 사건은 내가 클라우더스에 지원하게 된 결정적인 계기가 되었으며 대학원에 가 인공지능을 연구하고 싶다는 목표를 갖도록 동기를 부여했다. 또한 이번 글에서 인공지능을 다루기로 마음먹도록 이끌었다.<BR/>
제목에서 밝혔지만 나는 이 길고도 짧은 글에서 IBM 클라우드가 제공하는 다양한 서비스 중, __인공지능 Watson의 Speech-to-Text 서비스를 이용하는 기초 방법을 서술할 것이다.__ '2001 스페이스 오딧세이'에서 목성까지 가는 기나긴 여정 동안, 보먼과 풀은 목소리를 통해 HAL과 자유롭게 소통하며 미션을 수행한다(비극 또한 목소리로부터 비롯되지만). 아마 HAL은 음성을 인식해 텍스트로 전환시킨 후, 그것을 이진코드로 바꾸어 정보를 처리할 것 같다고 생각했다. 그리하여 IBM 클라우드 속 왓슨에게 음성 파일을 제공하고 텍스트 파일을 얻는 과정을 직접 시도하겠다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450302-f5076c80-ce88-11ea-9329-1f41029cdeb6.png "로그인 화면")<BR/>
당연한 말이지만, 서비스를 이용하기 위해서는 IBM Cloud 계정을 필수로 가지고 있어야 한다. 회원가입 및 로그인 과정은 여타 웹사이트와 다르지 않으므로 생략하겠다. 하얗게 처리한 부분은 아이디를 가린 것이다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450314-081a3c80-ce89-11ea-9f2a-80549565e957.png "초기 대시보드") <BR/>
로그인하면 나오는 화면, 일명 Dashboard다. 여기서는 내 클라우드에 저장한 서비스 목록이나 현재 서버 쾌적도 등을 간편하게 조회할 수 있다. 처음 가입한 독자는 Resources에 아무것도 없을 테지만 지극히 정상이므로 걱정할 필요 없다.<BR/>
이제 맨 위에 위치한 햄버거 메뉴(가로줄 네 개) 아이콘을 누르자.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450322-1cf6d000-ce89-11ea-937b-af988553db00.png "펼쳐진 모습")<BR/><BR/>
여러 항목들이 주루룩 나열된다. 이 화면에서 아래로 스크롤하면 'Watson' 탭이 보일 것이다. 클릭하라.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450332-2d0eaf80-ce89-11ea-97e5-18e6d338dbd0.png "왓슨이 제공하는 서비스들")<BR/><BR/>
다양한 서비스들이 있다. 나는 클라우더스 내 번역 스터디 '한그리쥬아'에 소속되어 있으므로 Language Translation 서비스를 이미 설치한 상태다. 여기에 이어 Speech-to-Text도 설치해 보자. 스크롤하면 나온다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450338-3dbf2580-ce89-11ea-9408-41375f98df94.png "stt 설정창")<BR/><BR/>
설정창에서는 서버 위치와 나만의 이름을 설정할 수 있다. 나는 영국을 좋아하기에(사연이 길다) 서버 위치를 런던으로 정했다.<BR/>
Create를 누르면 이 화면이 보일 것이다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88450349-4fa0c880-ce89-11ea-919e-e49af26e2199.png "api와 url")<BR/><BR/>
여기서 중요한 것은 API와 URL이다. 서비스를 이용하기 위해 콘솔창에 매번 입력해야 하기 때문이다. 이용하고 싶을 때마다 브라우저를 열어 클라우드 내로 들어가는 번거로운 과정을 피하기 위해 다른 곳에 메모하는 것을 추천한다.<BR/>
*(참고: 나는 노션에 저장했다. 사실 한국에서 인기를 끌기 훨씬 전부터 사용했던 터라 최근 노션이 인기를 끄는 것이 정말 반갑다.)* <BR/>
__이제 세팅은 끝이다!__ 다음으로 해야 할 일은 무엇인가? 만약 Mac OS 사용자라면 Terminal을 여시라.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88453056-bf6d7e00-ce9e-11ea-9c7e-c177d2aa0f32.png "터미널 초기 화면")<BR/><BR/>
(필자의 집에는 윈도우 운영체제를 탑재하며 무리없이 돌아가는 컴퓨터가 없기에 추후 윈도우 컴퓨터를 갖추게 되면 업데이트하겠다.)<BR/>
__1단계:__  여기에 이 명령어를 입력한다.<BR/>
```ssh
curl -X POST -u "apikey:{아까 저장했던 본인의 api 주소}" \
```
<BR/> __주의: {}은 변수를 표현하기 위함이니 실제로 입력할 때 중괄호는 제외해야 한다.__ <BR/>입력하면 이렇게 된다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88453233-0dcf4c80-cea0-11ea-9233-4f945a075c40.png "1단계 완료")<BR/><BR/>
__2단계:__  저 \> 뒤에 이 코드를 쓴다.
```ssh
--header "Content-Type: audio/flac" \
```
<BR/> __3단계:__  엔터를 치면 나오는 /> 뒤에 이어서 쓴다.<BR/>
```ssh
--data-binary @{오디오 파일(여기서는 flac 파일)이 저장된 경로} \
```
<BR/> IBM에서 제공하는 튜토리얼용 음성 파일은 이것이다. 필자도 이것으로 테스트했다.<BR/>
<https://watson-developer-cloud.github.io/doc-tutorial-downloads/speech-to-text/audio-file.flac>
<BR/> __4단계:__ 또 이어서 쓴다.<BR/>
```ssh
"{아까 복사했던 url 주소}/v1/recognize"
```
<BR/> 여기까지 큰 무리는 없었을 것이다. 다만 오탈자를 주의하라. 모든 입력이 끝났으면 이 콘솔창을 보고 있을 것이다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88453384-53404980-cea1-11ea-84e6-a133d41863b2.png "입력 끝")<BR/><BR/>
무엇을 망설이는가? 엔터를 누르시라. 그러면 잠시 뜸을 들이더니,<BR/>.<BR/>.<BR/>.<BR/>
음성 파일을 텍스트로 변환한 결과가 나온다.<BR/>
![이미지](https://user-images.githubusercontent.com/50163676/88453410-926e9a80-cea1-11ea-90c4-c6bf7b4720b6.png "결과")<BR/><BR/>
매우 간단하다!<BR/>
여기까지 기본 과정이 끝났다. 실로 놀라울 따름이다. 어릴 때 영화를 보며 신기해했던 장면의 초석을 다진 것이나 다름없기 때문이다. 또한, 대학에서 가르쳐 주지 않는 클라우드 컴퓨팅의 기초를 터득하고 있으니 나라는 브랜드 가치도 상승하며 일석이조의 효과를 거뒀다. 앞으로 IBM 클라우드에 점점 더 친숙해지고, 다음 번에도 흥미로운 소재를 가져오길 바라며 이만 마무리짓겠다.
<BR/><BR/>
*질문, 댓글, 그리고 출처를 밝힌 공유는 언제나 환영입니다.*







